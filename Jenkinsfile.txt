pipeline {
    agent any
    stages {
		
		
		// ******ALL CODE TO BE ADDED BELOW THIS COMMENT******
		
	

//Code starts for stage Unit Test
        stage('Unit Test') {
            steps {
                sh 'mvn test'
            }	
            post {
                always {
                    junit 'target/surefire-reports/*.xml'
                }
            }
        }

//sonnar

stage ('Code Analysis'){    (1)
steps{
script {
		scannerHome = tool 'sonar-scanner'
		}
		withSonarQubeEnv('My SonarQube Server')
		{
		sh "${scannerHome}/bin/sonar-scanner"
		}
}
}

	
		// ******ALL CODE TO BE ADDED ABOVE THIS COMMENT******
    }
}